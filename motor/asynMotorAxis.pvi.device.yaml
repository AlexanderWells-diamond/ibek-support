# yaml-language-server: $schema=file:///workspaces/pvi/schemas/pvi.device.schema.json
# a hand built PVI representation of the the motor record
type: Device
label: asynMotorAxis
parent: asynPortDriver
children:
  - type: Group
    name: Motor
    layout:
      type: Grid
      labelled: true
    children:
      - type: SignalRW
        name: Position
        pv: $(P)$(M)
        widget:
          type: TextWrite
        read_pv: $(P)$(M).RBV
        read_widget:
          type: TextRead

      - type: SignalW
        name: Stop
        pv: $(P)$(M).STOP
        widget:
          type: ButtonPanel
          actions:
            Stop: "1"

      - type: SignalW
        name: TweakForward
        pv: $(P)$(M).TWF
        widget:
          type: ButtonPanel
          actions:
            TweakForward: "1"

      - type: SignalW
        name: TweakReverse
        pv: $(P)$(M).TWR
        widget:
          type: ButtonPanel
          actions:
            TweakReverse: "1"

      - type: SignalW
        name: TweakStep
        pv: $(P)$(M).TWV
        widget:
          type: ButtonPanel
          actions:
            TweakStep: "1"


  - type: Group
    name: Status
    layout:
      type: Grid
      labelled: true
    children:
      - type: SignalR
        name: Ready
        pv: $(P)$(M)Status
        widget:
          type: LED

      - type: SignalR
        name: Moving
        pv: $(P)$(M).MOVN
        widget:
          type: LED

      - type: SignalR
        name: Forward
        pv: $(P)$(M).TDIR
        widget:
          type: LED

      - type: SignalR
        name: Homed
        pv: $(P)$(M).MSTA
        widget:
          type: LED

      - type: SignalR
        name: HighLimit
        pv: $(P)$(M).HLS
        widget:
          type: LED

      - type: SignalR
        name: LowLimit
        pv: $(P)$(M).LLS
        widget:
          type: LED

      - type: SignalR
        name: SoftLimit
        pv: $(P)$(M).LVIO
        widget:
          type: LED

      - type: SignalR
        name: Missed
        pv: $(P)$(M).MISS
        widget:
          type: LED

  - type: Group
    name: Homing
    layout:
      type: Grid
      labelled: true
    children:
      - type: SignalW
        name: HomeForward
        pv: $(P)$(M).HOMF
        widget:
          type: ButtonPanel
          actions:
            HomeForward: "1"

      - type: SignalW
        name: HomeReverse
        pv: $(P)$(M).HOMR
        widget:
          type: ButtonPanel
          actions:
            HomeReverse: "1"
  - type: Group
    name: BasicAsynMotor
    layout:
      type: Grid
      labelled: true
    children:
      - type: SignalW
        name: Direction
        pv: $(P)$(M)Direction
        widget:
          type: TextWrite

      - type: SignalW
        name: Offset
        pv: $(P)$(M)Offset
        widget:
          type: TextWrite

      - type: SignalW
        name: Resolution
        pv: $(P)$(M)Resolution
        widget:
          type: TextWrite
