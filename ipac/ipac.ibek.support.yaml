# yaml-language-server: $schema=http://github.com/epics-containers/ibek/releases/download/0.9/ibek.defs.schema.json

module: ipac

defs:
  - name: Hy8002
    args:
      - type: id
        name: name
        description: "IPAC identifier (suggested: IPAC{{ slot }})"

      - type: int
        name: slot
        description: Slot number

      - type: int
        name: intLevel
        description: Interrupt level
        default: 2

    script:
      - '# Assign the Carrier Handle for Hy8002 "{{ name }}" in slot {{ slot }}'
      - epicsEnvSet {{ name }} {{ __utils__.counter("Carriers", start=0) }}
      - '# ipacAddHy8002 "slot , interrupt_level"'
      - ipacAddHy8002 "{{ slot }}, {{ intLevel }}"
